<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>groq-rag | Smart AI Assistant</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">ğŸš€</span>
        <span class="logo-text">groq-rag</span>
      </div>
      <div class="header-center">
        <span class="tagline">Smart AI with RAG + Web + Tools</span>
      </div>
      <div class="header-actions">
        <select id="model-select" class="model-select">
          <option value="llama-3.3-70b-versatile">Llama 3.3 70B</option>
          <option value="llama-3.1-8b-instant">Llama 3.1 8B</option>
          <option value="mixtral-8x7b-32768">Mixtral 8x7B</option>
        </select>
        <button id="settings-btn" class="icon-btn" title="Settings">âš™ï¸</button>
      </div>
    </header>

    <!-- Main Chat Area -->
    <main class="chat-main">
      <div class="messages-container" id="messages">
        <!-- Welcome Message -->
        <div class="message assistant">
          <div class="message-avatar">ğŸ¤–</div>
          <div class="message-content">
            <div class="message-text">
              <p><strong>Welcome!</strong> I'm your AI assistant powered by Groq.</p>
              <p>I can automatically:</p>
              <ul>
                <li>ğŸ” <strong>Search the web</strong> for current information</li>
                <li>ğŸ“„ <strong>Fetch & read URLs</strong> you share</li>
                <li>ğŸ“š <strong>Query your knowledge base</strong> (add docs below)</li>
                <li>ğŸ§® <strong>Calculate</strong> math expressions</li>
                <li>ğŸ• <strong>Get date/time</strong> for any timezone</li>
              </ul>
              <p>Just ask naturally - I'll use the right tools automatically!</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <div class="input-area">
        <div class="input-container">
          <textarea
            id="user-input"
            placeholder="Ask me anything... I'll search the web, fetch URLs, or use your documents automatically!"
            rows="1"
          ></textarea>
          <button id="send-btn" class="send-btn" title="Send">
            <span>â¤</span>
          </button>
        </div>
        <div class="input-hints">
          <span class="hint">Try: "What's the latest news about AI?"</span>
          <span class="hint">Try: "Summarize https://example.com"</span>
          <span class="hint">Try: "What's 15% of 847?"</span>
        </div>
      </div>
    </main>

    <!-- Expandable Knowledge Base Panel -->
    <aside class="knowledge-panel" id="knowledge-panel">
      <div class="panel-header" id="panel-toggle">
        <span class="panel-icon">ğŸ“š</span>
        <span class="panel-title">Knowledge Base</span>
        <span class="doc-count" id="doc-count">0 docs</span>
        <span class="panel-arrow">â–²</span>
      </div>
      <div class="panel-content" id="panel-content">
        <div class="kb-tabs">
          <button class="kb-tab active" data-tab="text">Add Text</button>
          <button class="kb-tab" data-tab="url">Add URL</button>
        </div>
        <div class="kb-tab-content active" id="tab-text">
          <textarea id="doc-text" placeholder="Paste document content here..."></textarea>
          <input type="text" id="doc-source" placeholder="Source name (optional)">
          <button id="add-doc-btn" class="btn">Add to Knowledge Base</button>
        </div>
        <div class="kb-tab-content" id="tab-url">
          <input type="url" id="doc-url" placeholder="https://example.com/article">
          <button id="add-url-btn" class="btn">Fetch & Index URL</button>
        </div>
        <div class="kb-actions">
          <button id="clear-kb-btn" class="btn-text danger">Clear All</button>
        </div>
      </div>
    </aside>
  </div>

  <!-- Settings Modal -->
  <div class="modal-overlay" id="settings-modal">
    <div class="modal">
      <div class="modal-header">
        <h2>Settings</h2>
        <button class="modal-close" id="close-settings">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="setting-group">
          <label>RAG Chunking Strategy</label>
          <select id="chunk-strategy">
            <option value="recursive">Recursive (default)</option>
            <option value="fixed">Fixed Size</option>
            <option value="sentence">Sentence</option>
            <option value="paragraph">Paragraph</option>
          </select>
        </div>
        <div class="setting-group">
          <label>Chunk Size</label>
          <input type="number" id="chunk-size" value="500">
        </div>
        <button id="apply-settings" class="btn primary">Apply Settings</button>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toasts" class="toast-container"></div>

  <script src="app.js"></script>
</body>
</html>
